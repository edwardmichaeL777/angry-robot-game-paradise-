Copy<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9745408431725056"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Boxing Match / 机器人拳击赛</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .page {
            text-align: center;
            display: none;
        }
        #gameCanvas {
            border: 1px solid black;
            background-color: #e0e0e0;
            max-width: 100%;
            max-height: 70vh;
        }
        #timer, #scores, #result {
            font-size: 18px;
            margin: 10px 0;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
        .control-buttons {
            margin-top: 20px;
        }
        .punch-buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .punch-button {
            width: 40%;
            height: 50px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div id="page1" class="page" style="display: block;">
        <h1>Welcome to Robot Boxing Match<br>欢迎来到机器人拳击赛</h1>
        <p>Choose your language / 选择你的语言</p>
        <button onclick="setLanguage('en')">English</button>
        <button onclick="setLanguage('zh')">中文</button>
    </div>

    <div id="page2" class="page">
        <h1 id="rulesTitle"></h1>
        <div id="rules"></div>
        <button id="startButton"></button>
    </div>

    <div id="page3" class="page">
        <h1 id="gameTitle"></h1>
        <div id="instructions"></div>
        <div id="timer"></div>
        <div id="scores"></div>
        <canvas id="gameCanvas" width="400" height="300"></canvas>
        <div class="punch-buttons">
            <button id="punchA" class="punch-button"></button>
            <button id="punchB" class="punch-button"></button>
        </div>
        <div id="result"></div>
        <div class="control-buttons">
            <button id="restartButton" onclick="restartGame()"></button>
            <button id="backButton" onclick="backToMenu()"></button>
        </div>
    </div>

    <script>
        let language = 'en';
        let scoreA = 0;
        let scoreB = 0;
        let timeLeft = 15;
        let gameInterval;
        let lastPunchTimeA = 0;
        let lastPunchTimeB = 0;
        const reactionTime = 70;
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        function setLanguage(lang) {
            language = lang;
            document.getElementById('page1').style.display = 'none';
            document.getElementById('page2').style.display = 'block';
            updateRulesPage();
        }

        function updateRulesPage() {
            document.getElementById('rulesTitle').textContent = language === 'en' ? 'Robot Boxing Match Rules' : '机器人拳击赛规则';
            const rules = language === 'en' ? [
                "1. The game lasts for 15 seconds.",
                "2. Two robots (A and B) compete to score the most points.",
                "3. Tap the buttons to make the robots punch.",
                "4. Each successful punch scores one point.",
                "5. There's a brief cooldown period between punches.",
                "6. The robot with the highest score at the end wins."
            ] : [
                "1. 游戏持续15秒。",
                "2. 两个机器人（A和B）竞争得分最高。",
                "3. 点击按钮让机器人出拳。",
                "4. 每次成功的出拳得一分。",
                "5. 每次出拳之间有短暂的冷却时间。",
                "6. 结束时得分最高的机器人获胜。"
            ];
            document.getElementById('rules').innerHTML = rules.join('<br>');
            document.getElementById('startButton').textContent = language === 'en' ? 'Start Game' : '开始游戏';
            document.getElementById('startButton').onclick = startGame;
        }

        function startGame() {
            document.getElementById('page2').style.display = 'none';
            document.getElementById('page3').style.display = 'block';
            updateGamePage();
            resetGame();
            drawRobots(false, false);
            setupPunchButtons();
            gameInterval = setInterval(updateTimer, 1000);
        }

        function updateGamePage() {
            document.getElementById('gameTitle').textContent = language === 'en' ? 'Robot Boxing Match' : '机器人拳击赛';
            document.getElementById('instructions').textContent = language === 'en' ? 
                "Tap the buttons to make the robots punch" :
                "点击按钮让机器人出拳";
            document.getElementById('restartButton').textContent = language === 'en' ? 'Restart Game' : '重新开始';
            document.getElementById('backButton').textContent = language === 'en' ? 'Back to Menu' : '返回菜单';
            document.getElementById('punchA').textContent = language === 'en' ? 'Robot A Punch' : '机器人A出拳';
            document.getElementById('punchB').textContent = language === 'en' ? 'Robot B Punch' : '机器人B出拳';
            updateScores();
            updateTimer();
        }

        function setupPunchButtons() {
            document.getElementById('punchA').addEventListener('click', () => handlePunch('A'));
            document.getElementById('punchB').addEventListener('click', () => handlePunch('B'));
        }

        function drawRobot(x, y, color, isPunching) {
            ctx.fillStyle = color;
            ctx.fillRect(x - 25, y - 50, 50, 80);
            ctx.fillRect(x - 20, y - 80, 40, 30);
            ctx.fillStyle = 'white';
            ctx.fillRect(x - 15, y - 75, 10, 10);
            ctx.fillRect(x + 5, y - 75, 10, 10);
            if (isPunching) {
                ctx.fillStyle = color;
                ctx.fillRect(x + (color === 'blue' ? 25 : -65), y - 40, 40, 20);
            } else {
                ctx.fillStyle = color;
                ctx.fillRect(x + (color === 'blue' ? 25 : -35), y - 40, 10, 60);
            }
            ctx.fillRect(x - 20, y + 30, 15, 40);
            ctx.fillRect(x + 5, y + 30, 15, 40);
        }

        function drawRobots(isAPunching, isBPunching) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawRobot(150, 200, 'blue', isAPunching);
            drawRobot(250, 200, 'red', isBPunching);
        }

        function updateScores() {
            document.getElementById('scores').textContent = language === 'en' ?
                `Robot A: ${scoreA} | Robot B: ${scoreB}` :
                `机器人A: ${scoreA} | 机器人B: ${scoreB}`;
        }

        function updateTimer() {
            timeLeft--;
            document.getElementById('timer').textContent = language === 'en' ?
                `Time: ${timeLeft} seconds` :
                `时间: ${timeLeft}秒`;
            if (timeLeft <= 0) {
                endGame();
            }
        }

        function endGame() {
            clearInterval(gameInterval);

            let resultText = language === 'en' ? 
                `Game Over! Robot A Score: ${scoreA}, Robot B Score: ${scoreB}<br>` :
                `游戏结束！机器人A得分: ${scoreA}, 机器人B得分: ${scoreB}<br>`;
            if (scoreA > scoreB) {
                resultText += language === 'en' ? "Robot A Wins!" : "机器人A获胜！";
            } else if (scoreB > scoreA) {
                resultText += language === 'en' ? "Robot B Wins!" : "机器人B获胜！";
            } else {
                resultText += language === 'en' ? "It's a Tie!" : "平局！";
            }
            document.getElementById('result').innerHTML = resultText;
            
            // Show control buttons
            document.querySelector('.control-buttons').style.display = 'block';
        }

        function handlePunch(robot) {
            const currentTime = Date.now();
            if (robot === 'A') {
                if (currentTime - lastPunchTimeA > reactionTime) {
                    scoreA++;
                    lastPunchTimeA = currentTime;
                    drawRobots(true, false);
                    setTimeout(() => drawRobots(false, false), 150);
                }
            } else if (robot === 'B') {
                if (currentTime - lastPunchTimeB > reactionTime) {
                    scoreB++;
                    lastPunchTimeB = currentTime;
                    drawRobots(false, true);
                    setTimeout(() => drawRobots(false, false), 150);
                }
            }
            updateScores();
        }

        function resetGame() {
            scoreA = 0;
            scoreB = 0;
            timeLeft = 15;
            lastPunchTimeA = 0;
            lastPunchTimeB = 0;
            document.getElementById('result').innerHTML = '';
            updateScores();
            document.querySelector('.control-buttons').style.display = 'none';
        }

        function restartGame() {
            resetGame();
            drawRobots(false, false);
            gameInterval = setInterval(updateTimer, 1000);
        }

        function backToMenu() {
            window.location.href = 'index.html';
        }

        // Adjust canvas size on window resize
        window.addEventListener('resize', function() {
            const containerWidth = document.getElementById('page3').offsetWidth;
            const containerHeight = window.innerHeight * 0.7;
            const aspectRatio = canvas.width / canvas.height;

            if (containerWidth / containerHeight > aspectRatio) {
                canvas.style.height = containerHeight + 'px';
                canvas.style.width = (containerHeight * aspectRatio) + 'px';
            } else {
                canvas.style.width = containerWidth + 'px';
                canvas.style.height = (containerWidth / aspectRatio) + 'px';
            }
        });

        // Initial canvas size adjustment
        window.dispatchEvent(new Event('resize'));
    </script>
</body>
</html>
